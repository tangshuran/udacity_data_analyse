<!----------------------------------------------------------------->
<!-- AUTOMATICALLY GENERATED CODE - PLEASE EDIT TEMPLATE INSTEAD -->
<!----------------------------------------------------------------->
<!DOCTYPE html>
<meta charset="utf-8">
<html>
<body>
<select id = "student_score">
<option value="math">Student Maths score</option>
<option value="read">Student Reading score</option> 
<option value="science">Student Science score</option>
</select>
<select id = "group_by">
<option value="immagration">Immigration Status</option>
<option value="book">Home Owned Books</option> 
<option value="paredu">Highest Parents Education Level</option>
</select>
<select id = "family status">
<option value="wealth">Family Wealth Status</option>
<option value="entertainment">Home Entertainment Status</option> 
<option value="possession">Home Possession</option>
</select>  
<div id="chartContainer">
  <script src="/lib/d3.v3.4.8.js"></script>
  <script src="/dist/dimple.v2.2.0.js"></script>
  <script type="text/javascript">
    var svg = dimple.newSvg("#chartContainer", 590, 460);
    d3.csv("/dataset/data_pared.csv", function (data) {
      var myChart = new dimple.chart(svg, data);
      myChart.setBounds(80, 80, 480, 300)
      myChart.addMeasureAxis("x", "mean_wealth");
      myChart.addMeasureAxis("y", "mean_math");
	  myChart.addMeasureAxis("z", "n");
      myChart.addSeries("PARED_cut1", dimple.plot.bubble);
      myChart.addLegend(60, 10, 510, 20, "right");
      myChart.draw();
    });
    d3.select('#student_score')
		.on('change', function() {
    var newData = d3.select(this).property('value');
      y_name = newData;
		updateChart();
		});
	function updateChart() {
	if(y_name=='science'){
	d3.select("svg").remove();
	var svg = dimple.newSvg("#chartContainer", 590, 460);
	d3.csv("/dataset/data_new_Pared.csv", function (data) {
      var myChart = new dimple.chart(svg, data);
      myChart.setBounds(80, 80, 480, 300)
      myChart.addMeasureAxis("x", "mean_wealth");
      myChart.addMeasureAxis("y", "mean_science");
	  myChart.addMeasureAxis("z", "n");
      myChart.addSeries("PARED_cut1", dimple.plot.bubble);
      myChart.addLegend(60, 10, 510, 20, "right");
      myChart.draw();
    });
	}
	}
  </script>
</div>
</html>
