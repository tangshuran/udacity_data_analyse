library(base)
library(stats)
library(dplyr)
library(ggplot2)
library(reshape2)
library(psych)
library(RColorBrewer)
library(dplyr)
setwd("D:/github/udacity_data_analyse/project6")
df<- read.csv("pisa2012.csv",encoding="UTF-8")
out.aggregate.PARED_cut1<-out%>% # here i construct new data frame, both long and wide, for later use
filter(!is.na(math_score))%>%             # filter out the observations with missed values
filter(!is.na(WEALTH))%>%
filter(!is.na(PARED_cut1))%>%
group_by(PARED_cut1)%>%
summarise(mean_math=mean(math_score),
mean_science=mean(science_score),
mean_reading=mean(reading_score),
mean_wealth=mean(WEALTH),
n=n())%>%
ungroup()#%>%
interest_index_begin<-which(colnames(df)=="PV1MATH")
len<-38
interest_index_end<-interest_index_begin+len-1
apply(df[interest_index_begin:interest_index_end],2,de)
library(base)
library(stats)
library(dplyr)
library(ggplot2)
library(reshape2)
library(psych)
library(RColorBrewer)
library(dplyr)
setwd("D:/github/udacity_data_analyse/project6")
df<- read.csv("pisa2012.csv",encoding="UTF-8")
View(df)
sample(df, 100)
ww=sample(df, 10000)
sam<-df[sample(nrow(df), 10000), ]
sam.cleaned<-sam[,c('math_score','WEALTH','ST28Q01')]%>% # here i construct new data frame, both long and wide, for later use
filter(!is.na(math_score))%>%             # filter out the observations with missed values
filter(!is.na(WEALTH))%>%
filter(!is.na(ST28Q01))
sam$math_score <- rowMeans(subset(sam, select = math_names), na.rm = FALSE)
sam.cleaned<-sam[,c('math_score','WEALTH','ST28Q01')]%>% # here i construct new data frame, both long and wide, for later use
filter(!is.na(math_score))%>%             # filter out the observations with missed values
filter(!is.na(WEALTH))%>%
filter(!is.na(ST28Q01))
interest_index_begin<-which(colnames(df)=="PV1MATH")
len<-38
interest_index_end<-interest_index_begin+len-1
#apply(df[interest_index_begin:interest_index_end],2,de)
math_names=colnames(df)[interest_index_begin:interest_index_end]
df$math_score <- rowMeans(subset(df, select = math_names), na.rm = FALSE)
sam<-df[sample(nrow(df), 10000), ]
sam$math_score <- rowMeans(subset(sam, select = math_names), na.rm = FALSE)
sam.cleaned<-sam[,c('math_score','WEALTH','ST28Q01')]%>% # here i construct new data frame, both long and wide, for later use
filter(!is.na(math_score))%>%             # filter out the observations with missed values
filter(!is.na(WEALTH))%>%
filter(!is.na(ST28Q01))
View(sam.cleaned)
write.csv(sam.cleaned,file="D:/github/udacity_data_analyse/project6/data_origin.csv")
View(sam.cleaned)
sam.cleaned['WEALTH']<-sam.cleaned['WEALTH']+2
write.csv(sam.cleaned,file="D:/github/udacity_data_analyse/project6/data_origin.csv")
